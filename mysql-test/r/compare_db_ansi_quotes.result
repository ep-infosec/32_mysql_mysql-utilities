Test case 1 - check a sample database
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases inventory on server1 and inventory on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     supplier                                pass    pass    -       
#           - Compare table checksum                                pass    
# TABLE     supplies                                pass    pass    -       
#           - Compare table checksum                                pass    
# VIEW      cleaning                                pass    -       -       
# VIEW      finishing_up                            pass    -       -       
# VIEW      tools                                   pass    -       -      

# Databases are consistent.
#
# ...done
Test case 2 - check database with known differences (extra table)
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases inventory on server1 and inventory on server2
#
# WARNING: Objects in server2.inventory but not in server1.inventory:
#        TABLE: extra_table
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     supplier                                pass    pass    -       
#           - Compare table checksum                                pass    
# TABLE     supplies                                pass    pass    -       
#           - Compare table checksum                                pass    
# VIEW      cleaning                                pass    -       -       
# VIEW      finishing_up                            pass    -       -       
# VIEW      tools                                   pass    -       -      

# Database consistency check failed.
#
# ...done
Test case 3 - check database with known differences (extra table) and --quiet
# WARNING: Using a password on the command line interface can be insecure.
Test case 4 - check database with known differences direction = server1 (default)
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases inventory on server1 and inventory on server2
#
# WARNING: Objects in server1.inventory but not in server2.inventory:
#         VIEW: finishing_up
#         VIEW: cleaning
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     supplier                                pass    FAIL    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Row counts are not the same among "inventory"."supplier" and "inventory"."supplier".
#
# Data differences found among rows:
--- "inventory"."supplier"
+++ "inventory"."supplier"
@@ -1,3 +1,3 @@
 code,name
-'4',NULL
-'2','Never Enough Inc.'
+'4','Acme Corporation'
+'2','Wesayso Corporation'

# Rows in "inventory"."supplier" not in "inventory"."supplier"
code,name
'6',''
'5',NULL
'3','Never Enough Inc.'

# TABLE     supplies                                pass    FAIL    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Row counts are not the same among "inventory"."supplies" and "inventory"."supplies".
#
# Data differences found among rows:
--- "inventory"."supplies"
+++ "inventory"."supplies"
@@ -1,4 +1,4 @@
 stock_number,description,qty,cost,type,notes,supplier
-'11146','Speed shine','1','9.99','repair','','1'
-'11186','Plastic polish','1','9.99','polishing','','1'
-'11040','Leather care','1','9.99','other','','1'
+'11146','Speed shine','1','10.00','repair','','1'
+'11186','Plastic polish','1','10.00','polishing','','1'
+'11040','Leather care','1','10.00','other','','1'

# Rows in "inventory"."supplies" not in "inventory"."supplies"
stock_number,description,qty,cost,type,notes,supplier
'11270','Carpet cleaner','1','9.99','cleaning','','1'
'11056','Microfiber and foam pad cleaner','1','9.99','cleaning','','1'
'11136','Rubber cleaner','1','9.99','cleaning','','1'
'11104','Interior cleaner','1','9.99','cleaning','','1'
'11173','Vinyl and rubber dressing','1','9.99','cleaning','','1'
'11106','Wheel cleaner','1','9.99','cleaning','','1'

# Rows in "inventory"."supplies" not in "inventory"."supplies"
stock_number,description,qty,cost,type,notes,supplier
'11116','Microfiber wax removal towel','3','16.99','waxing','','1'
'10665','Glass polish pad','3','10.00','polishing','','1'
'11269','Microfiber spray on car wash towel','3','16.99','cleaning','','1'

# VIEW      tools                                   FAIL    -       -       
#
# Object definitions differ. (--changes-for=server1)
#

--- "inventory"."tools"
+++ "inventory"."tools"
@@ -1,1 +1,1 @@
-CREATE ALGORITHM=UNDEFINED DEFINER="root"@"localhost" SQL SECURITY DEFINER VIEW "tools" AS select "supplies"."stock_number" AS "stock_number","supplies"."description" AS "description","supplies"."qty" AS "qty","supplies"."cost" AS "cost","supplies"."type" AS "type","supplies"."notes" AS "notes","supplies"."supplier" AS "supplier" from "supplies" where ("supplies"."type" = 'tool')
+CREATE ALGORITHM=UNDEFINED DEFINER="root"@"localhost" SQL SECURITY DEFINER VIEW "tools" AS select "supplies"."stock_number" AS "stock_number","supplies"."description" AS "description","supplies"."qty" AS "qty","supplies"."cost" AS "cost","supplies"."type" AS "type","supplies"."notes" AS "notes","supplies"."supplier" AS "supplier" from "supplies" where ("supplies"."type" in ('tool','other'))


# Database consistency check failed.
#
# ...done
Test case 5 - check database with known differences direction = server2
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases inventory on server1 and inventory on server2
#
# WARNING: Objects in server1.inventory but not in server2.inventory:
#         VIEW: finishing_up
#         VIEW: cleaning
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     supplier                                pass    FAIL    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Row counts are not the same among "inventory"."supplier" and "inventory"."supplier".
#
# Data differences found among rows:
--- "inventory"."supplier"
+++ "inventory"."supplier"
@@ -1,3 +1,3 @@
 code,name
-'4','Acme Corporation'
-'2','Wesayso Corporation'
+'4',NULL
+'2','Never Enough Inc.'

# Rows in "inventory"."supplier" not in "inventory"."supplier"
code,name
'6',''
'5',NULL
'3','Never Enough Inc.'

# TABLE     supplies                                pass    FAIL    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Row counts are not the same among "inventory"."supplies" and "inventory"."supplies".
#
# Data differences found among rows:
--- "inventory"."supplies"
+++ "inventory"."supplies"
@@ -1,4 +1,4 @@
 stock_number,description,qty,cost,type,notes,supplier
-'11146','Speed shine','1','10.00','repair','','1'
-'11186','Plastic polish','1','10.00','polishing','','1'
-'11040','Leather care','1','10.00','other','','1'
+'11146','Speed shine','1','9.99','repair','','1'
+'11186','Plastic polish','1','9.99','polishing','','1'
+'11040','Leather care','1','9.99','other','','1'

# Rows in "inventory"."supplies" not in "inventory"."supplies"
stock_number,description,qty,cost,type,notes,supplier
'11116','Microfiber wax removal towel','3','16.99','waxing','','1'
'10665','Glass polish pad','3','10.00','polishing','','1'
'11269','Microfiber spray on car wash towel','3','16.99','cleaning','','1'

# Rows in "inventory"."supplies" not in "inventory"."supplies"
stock_number,description,qty,cost,type,notes,supplier
'11270','Carpet cleaner','1','9.99','cleaning','','1'
'11056','Microfiber and foam pad cleaner','1','9.99','cleaning','','1'
'11136','Rubber cleaner','1','9.99','cleaning','','1'
'11104','Interior cleaner','1','9.99','cleaning','','1'
'11173','Vinyl and rubber dressing','1','9.99','cleaning','','1'
'11106','Wheel cleaner','1','9.99','cleaning','','1'

# VIEW      tools                                   FAIL    -       -       
#
# Object definitions differ. (--changes-for=server2)
#

--- "inventory"."tools"
+++ "inventory"."tools"
@@ -1,1 +1,1 @@
-CREATE ALGORITHM=UNDEFINED DEFINER="root"@"localhost" SQL SECURITY DEFINER VIEW "tools" AS select "supplies"."stock_number" AS "stock_number","supplies"."description" AS "description","supplies"."qty" AS "qty","supplies"."cost" AS "cost","supplies"."type" AS "type","supplies"."notes" AS "notes","supplies"."supplier" AS "supplier" from "supplies" where ("supplies"."type" in ('tool','other'))
+CREATE ALGORITHM=UNDEFINED DEFINER="root"@"localhost" SQL SECURITY DEFINER VIEW "tools" AS select "supplies"."stock_number" AS "stock_number","supplies"."description" AS "description","supplies"."qty" AS "qty","supplies"."cost" AS "cost","supplies"."type" AS "type","supplies"."notes" AS "notes","supplies"."supplier" AS "supplier" from "supplies" where ("supplies"."type" = 'tool')


# Database consistency check failed.
#
# ...done
Test case 6 - check database with known differences direction = server1 and reverse
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases inventory on server1 and inventory on server2
#
# WARNING: Objects in server1.inventory but not in server2.inventory:
#         VIEW: finishing_up
#         VIEW: cleaning
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     supplier                                pass    FAIL    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Row counts are not the same among "inventory"."supplier" and "inventory"."supplier".
#
# Data differences found among rows:
--- "inventory"."supplier"
+++ "inventory"."supplier"
@@ -1,3 +1,3 @@
 code,name
-'4',NULL
-'2','Never Enough Inc.'
+'4','Acme Corporation'
+'2','Wesayso Corporation'

# Rows in "inventory"."supplier" not in "inventory"."supplier"
code,name
'6',''
'5',NULL
'3','Never Enough Inc.'

# # Data differences found among rows:
# --- "inventory"."supplier"
# +++ "inventory"."supplier"
# @@ -1,3 +1,3 @@
#  code,name
# -'4','Acme Corporation'
# -'2','Wesayso Corporation'
# +'4',NULL
# +'2','Never Enough Inc.'
# 
# Rows in "inventory"."supplier" not in "inventory"."supplier"
# code,name
# '6',''
# '5',NULL
# '3','Never Enough Inc.'
#


# TABLE     supplies                                pass    FAIL    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Row counts are not the same among "inventory"."supplies" and "inventory"."supplies".
#
# Data differences found among rows:
--- "inventory"."supplies"
+++ "inventory"."supplies"
@@ -1,4 +1,4 @@
 stock_number,description,qty,cost,type,notes,supplier
-'11146','Speed shine','1','9.99','repair','','1'
-'11186','Plastic polish','1','9.99','polishing','','1'
-'11040','Leather care','1','9.99','other','','1'
+'11146','Speed shine','1','10.00','repair','','1'
+'11186','Plastic polish','1','10.00','polishing','','1'
+'11040','Leather care','1','10.00','other','','1'

# Rows in "inventory"."supplies" not in "inventory"."supplies"
stock_number,description,qty,cost,type,notes,supplier
'11270','Carpet cleaner','1','9.99','cleaning','','1'
'11056','Microfiber and foam pad cleaner','1','9.99','cleaning','','1'
'11136','Rubber cleaner','1','9.99','cleaning','','1'
'11104','Interior cleaner','1','9.99','cleaning','','1'
'11173','Vinyl and rubber dressing','1','9.99','cleaning','','1'
'11106','Wheel cleaner','1','9.99','cleaning','','1'

# Rows in "inventory"."supplies" not in "inventory"."supplies"
stock_number,description,qty,cost,type,notes,supplier
'11116','Microfiber wax removal towel','3','16.99','waxing','','1'
'10665','Glass polish pad','3','10.00','polishing','','1'
'11269','Microfiber spray on car wash towel','3','16.99','cleaning','','1'

# # Data differences found among rows:
# --- "inventory"."supplies"
# +++ "inventory"."supplies"
# @@ -1,4 +1,4 @@
#  stock_number,description,qty,cost,type,notes,supplier
# -'11146','Speed shine','1','10.00','repair','','1'
# -'11186','Plastic polish','1','10.00','polishing','','1'
# -'11040','Leather care','1','10.00','other','','1'
# +'11146','Speed shine','1','9.99','repair','','1'
# +'11186','Plastic polish','1','9.99','polishing','','1'
# +'11040','Leather care','1','9.99','other','','1'
# 
# Rows in "inventory"."supplies" not in "inventory"."supplies"
# stock_number,description,qty,cost,type,notes,supplier
# '11116','Microfiber wax removal towel','3','16.99','waxing','','1'
# '10665','Glass polish pad','3','10.00','polishing','','1'
# '11269','Microfiber spray on car wash towel','3','16.99','cleaning','','1'
# 
# Rows in "inventory"."supplies" not in "inventory"."supplies"
# stock_number,description,qty,cost,type,notes,supplier
# '11270','Carpet cleaner','1','9.99','cleaning','','1'
# '11056','Microfiber and foam pad cleaner','1','9.99','cleaning','','1'
# '11136','Rubber cleaner','1','9.99','cleaning','','1'
# '11104','Interior cleaner','1','9.99','cleaning','','1'
# '11173','Vinyl and rubber dressing','1','9.99','cleaning','','1'
# '11106','Wheel cleaner','1','9.99','cleaning','','1'
#


# VIEW      tools                                   FAIL    -       -       
#
# Object definitions differ. (--changes-for=server1)
#

--- "inventory"."tools"
+++ "inventory"."tools"
@@ -1,1 +1,1 @@
-CREATE ALGORITHM=UNDEFINED DEFINER="root"@"localhost" SQL SECURITY DEFINER VIEW "tools" AS select "supplies"."stock_number" AS "stock_number","supplies"."description" AS "description","supplies"."qty" AS "qty","supplies"."cost" AS "cost","supplies"."type" AS "type","supplies"."notes" AS "notes","supplies"."supplier" AS "supplier" from "supplies" where ("supplies"."type" = 'tool')
+CREATE ALGORITHM=UNDEFINED DEFINER="root"@"localhost" SQL SECURITY DEFINER VIEW "tools" AS select "supplies"."stock_number" AS "stock_number","supplies"."description" AS "description","supplies"."qty" AS "qty","supplies"."cost" AS "cost","supplies"."type" AS "type","supplies"."notes" AS "notes","supplies"."supplier" AS "supplier" from "supplies" where ("supplies"."type" in ('tool','other'))

#
# Definition diff for reverse changes (--changes-for=server2):
#
# --- "inventory"."tools"
# +++ "inventory"."tools"
# @@ -1,1 +1,1 @@
# -CREATE ALGORITHM=UNDEFINED DEFINER="root"@"localhost" SQL SECURITY DEFINER VIEW "tools" AS select "supplies"."stock_number" AS "stock_number","supplies"."description" AS "description","supplies"."qty" AS "qty","supplies"."cost" AS "cost","supplies"."type" AS "type","supplies"."notes" AS "notes","supplies"."supplier" AS "supplier" from "supplies" where ("supplies"."type" in ('tool','other'))
# +CREATE ALGORITHM=UNDEFINED DEFINER="root"@"localhost" SQL SECURITY DEFINER VIEW "tools" AS select "supplies"."stock_number" AS "stock_number","supplies"."description" AS "description","supplies"."qty" AS "qty","supplies"."cost" AS "cost","supplies"."type" AS "type","supplies"."notes" AS "notes","supplies"."supplier" AS "supplier" from "supplies" where ("supplies"."type" = 'tool')
#



# Database consistency check failed.
#
# ...done
Test case 7 - check database with known differences direction = server2 and reverse
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases inventory on server1 and inventory on server2
#
# WARNING: Objects in server1.inventory but not in server2.inventory:
#         VIEW: finishing_up
#         VIEW: cleaning
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     supplier                                pass    FAIL    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Row counts are not the same among "inventory"."supplier" and "inventory"."supplier".
#
# Data differences found among rows:
--- "inventory"."supplier"
+++ "inventory"."supplier"
@@ -1,3 +1,3 @@
 code,name
-'4','Acme Corporation'
-'2','Wesayso Corporation'
+'4',NULL
+'2','Never Enough Inc.'

# Rows in "inventory"."supplier" not in "inventory"."supplier"
code,name
'6',''
'5',NULL
'3','Never Enough Inc.'

# # Data differences found among rows:
# --- "inventory"."supplier"
# +++ "inventory"."supplier"
# @@ -1,3 +1,3 @@
#  code,name
# -'4',NULL
# -'2','Never Enough Inc.'
# +'4','Acme Corporation'
# +'2','Wesayso Corporation'
# 
# Rows in "inventory"."supplier" not in "inventory"."supplier"
# code,name
# '6',''
# '5',NULL
# '3','Never Enough Inc.'
#


# TABLE     supplies                                pass    FAIL    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Row counts are not the same among "inventory"."supplies" and "inventory"."supplies".
#
# Data differences found among rows:
--- "inventory"."supplies"
+++ "inventory"."supplies"
@@ -1,4 +1,4 @@
 stock_number,description,qty,cost,type,notes,supplier
-'11146','Speed shine','1','10.00','repair','','1'
-'11186','Plastic polish','1','10.00','polishing','','1'
-'11040','Leather care','1','10.00','other','','1'
+'11146','Speed shine','1','9.99','repair','','1'
+'11186','Plastic polish','1','9.99','polishing','','1'
+'11040','Leather care','1','9.99','other','','1'

# Rows in "inventory"."supplies" not in "inventory"."supplies"
stock_number,description,qty,cost,type,notes,supplier
'11116','Microfiber wax removal towel','3','16.99','waxing','','1'
'10665','Glass polish pad','3','10.00','polishing','','1'
'11269','Microfiber spray on car wash towel','3','16.99','cleaning','','1'

# Rows in "inventory"."supplies" not in "inventory"."supplies"
stock_number,description,qty,cost,type,notes,supplier
'11270','Carpet cleaner','1','9.99','cleaning','','1'
'11056','Microfiber and foam pad cleaner','1','9.99','cleaning','','1'
'11136','Rubber cleaner','1','9.99','cleaning','','1'
'11104','Interior cleaner','1','9.99','cleaning','','1'
'11173','Vinyl and rubber dressing','1','9.99','cleaning','','1'
'11106','Wheel cleaner','1','9.99','cleaning','','1'

# # Data differences found among rows:
# --- "inventory"."supplies"
# +++ "inventory"."supplies"
# @@ -1,4 +1,4 @@
#  stock_number,description,qty,cost,type,notes,supplier
# -'11146','Speed shine','1','9.99','repair','','1'
# -'11186','Plastic polish','1','9.99','polishing','','1'
# -'11040','Leather care','1','9.99','other','','1'
# +'11146','Speed shine','1','10.00','repair','','1'
# +'11186','Plastic polish','1','10.00','polishing','','1'
# +'11040','Leather care','1','10.00','other','','1'
# 
# Rows in "inventory"."supplies" not in "inventory"."supplies"
# stock_number,description,qty,cost,type,notes,supplier
# '11270','Carpet cleaner','1','9.99','cleaning','','1'
# '11056','Microfiber and foam pad cleaner','1','9.99','cleaning','','1'
# '11136','Rubber cleaner','1','9.99','cleaning','','1'
# '11104','Interior cleaner','1','9.99','cleaning','','1'
# '11173','Vinyl and rubber dressing','1','9.99','cleaning','','1'
# '11106','Wheel cleaner','1','9.99','cleaning','','1'
# 
# Rows in "inventory"."supplies" not in "inventory"."supplies"
# stock_number,description,qty,cost,type,notes,supplier
# '11116','Microfiber wax removal towel','3','16.99','waxing','','1'
# '10665','Glass polish pad','3','10.00','polishing','','1'
# '11269','Microfiber spray on car wash towel','3','16.99','cleaning','','1'
#


# VIEW      tools                                   FAIL    -       -       
#
# Object definitions differ. (--changes-for=server2)
#

--- "inventory"."tools"
+++ "inventory"."tools"
@@ -1,1 +1,1 @@
-CREATE ALGORITHM=UNDEFINED DEFINER="root"@"localhost" SQL SECURITY DEFINER VIEW "tools" AS select "supplies"."stock_number" AS "stock_number","supplies"."description" AS "description","supplies"."qty" AS "qty","supplies"."cost" AS "cost","supplies"."type" AS "type","supplies"."notes" AS "notes","supplies"."supplier" AS "supplier" from "supplies" where ("supplies"."type" in ('tool','other'))
+CREATE ALGORITHM=UNDEFINED DEFINER="root"@"localhost" SQL SECURITY DEFINER VIEW "tools" AS select "supplies"."stock_number" AS "stock_number","supplies"."description" AS "description","supplies"."qty" AS "qty","supplies"."cost" AS "cost","supplies"."type" AS "type","supplies"."notes" AS "notes","supplies"."supplier" AS "supplier" from "supplies" where ("supplies"."type" = 'tool')

#
# Definition diff for reverse changes (--changes-for=server1):
#
# --- "inventory"."tools"
# +++ "inventory"."tools"
# @@ -1,1 +1,1 @@
# -CREATE ALGORITHM=UNDEFINED DEFINER="root"@"localhost" SQL SECURITY DEFINER VIEW "tools" AS select "supplies"."stock_number" AS "stock_number","supplies"."description" AS "description","supplies"."qty" AS "qty","supplies"."cost" AS "cost","supplies"."type" AS "type","supplies"."notes" AS "notes","supplies"."supplier" AS "supplier" from "supplies" where ("supplies"."type" = 'tool')
# +CREATE ALGORITHM=UNDEFINED DEFINER="root"@"localhost" SQL SECURITY DEFINER VIEW "tools" AS select "supplies"."stock_number" AS "stock_number","supplies"."description" AS "description","supplies"."qty" AS "qty","supplies"."cost" AS "cost","supplies"."type" AS "type","supplies"."notes" AS "notes","supplies"."supplier" AS "supplier" from "supplies" where ("supplies"."type" in ('tool','other'))
#



# Database consistency check failed.
#
# ...done
Test case 8 - compare two databases on same server w/server2
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases inventory on server1 and inventory2 on server2
#
# WARNING: Objects in server1.inventory but not in server1.inventory2:
#         VIEW: finishing_up
#        TABLE: supplier
#        TABLE: supplies
#         VIEW: tools
#         VIEW: cleaning
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# -------------------------------------------------------------------------

# Database consistency check failed.
#
# ...done
Test case 9 - compare two databases on same server
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# Checking databases inventory and inventory2 on server1
#
# WARNING: Objects in server1.inventory but not in server1.inventory2:
#         VIEW: finishing_up
#        TABLE: supplier
#        TABLE: supplies
#         VIEW: tools
#         VIEW: cleaning
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# -------------------------------------------------------------------------

# Database consistency check failed.
#
# ...done
Test case 10 - compare a database with weird names (backticks)
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases db.`:db on server1 and db.`:db on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     `t`.`export_2                           pass    pass    -       
#           - Compare table checksum                                pass    
# TABLE     `t`export_1                             pass    pass    -       
#           - Compare table checksum                                pass    
# VIEW      `v`export_1                             pass    -       -      

# Databases are consistent.
#
# ...done
Test case 11 - compare two empty databases
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases empty_db on server1 and empty_db on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# -------------------------------------------------------------------------

# Databases are consistent.
#
# ...done
Test case 12 - compare a sample database containing tables with weird names (no backticks) and different table options.
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases db_diff_test on server1 and db_diff_test on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     table-dash                              FAIL    SKIP    SKIP    
#
# Object definitions differ. (--changes-for=server1)
#

--- "db_diff_test"."table-dash"
+++ "db_diff_test"."table-dash"
@@ -1,4 +1,4 @@
 CREATE TABLE "table-dash" (
   "id" bigint(20) unsigned NOT NULL AUTO_INCREMENT,
   PRIMARY KEY ("id")
-) ENGINE=InnoDB AUTO_INCREMENT=50000010 DEFAULT CHARSET=latin1
+) ENGINE=InnoDB AUTO_INCREMENT=50000005 DEFAULT CHARSET=latin1


# Database consistency check failed.
#
# ...done
Test case 13 - compare a sample database containing tables with weird names (no backticks) and skipping table options.
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases db_diff_test on server1 and db_diff_test on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     table-dash                              pass    SKIP    SKIP   

# Databases are consistent given skip options specified.
#
# ...done
Test case 14 - compare a database with objects of different types with the same name (no differences)
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases db.`:db on server1 and db.`:db on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# PROCEDURE `t`export_1                             pass    -       -       
# TABLE     `t`.`export_2                           pass    pass    -       
#           - Compare table checksum                                pass    
# TABLE     `t`export_1                             pass    pass    -       
#           - Compare table checksum                                pass    
# VIEW      `v`export_1                             pass    -       -      

# Databases are consistent.
#
# ...done
Test case 15 - compare a database with objects of different types with the same name (with differences)
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases db.`:db on server1 and db.`:db on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# PROCEDURE `t`export_1                             FAIL    -       -       
#
# Object definitions differ. (--changes-for=server1)
#

--- "db.`:db"."`t`export_1"
+++ "db.`:db"."`t`export_1"
@@ -1,2 +1,2 @@
 CREATE DEFINER="root"@"localhost" PROCEDURE "`t`export_1"()
-SELECT 1
+SELECT 2

# TABLE     `t`.`export_2                           pass    pass    -       
#           - Compare table checksum                                pass    
# TABLE     `t`export_1                             pass    pass    -       
#           - Compare table checksum                                pass    
# VIEW      `v`export_1                             pass    -       -      

# Database consistency check failed.
#
# ...done
Test case 16 - compare all databases
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# The database inventory2 on server1 does not exist on server2.
# Comparing databases: empty_db, compare_db_quotes_1, compare_db_quotes_2, no_primary_keys, compare_db_pkeys_db1, compare_db_pkeys_db2, inventory, db_diff_test, db.`:db, multi_span_row
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases empty_db on server1 and empty_db on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases compare_db_quotes_1 on server1 and compare_db_quotes_1 on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t1                                      pass    pass    -       
#           - Compare table checksum                                pass    

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases compare_db_quotes_2 on server1 and compare_db_quotes_2 on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t1                                      pass    pass    -       
#           - Compare table checksum                                pass    

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases no_primary_keys on server1 and no_primary_keys on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     nonix_1_nix_2                           pass    pass    -       
#           - Compare table checksum                                pass    
# TABLE     nonix_1_simple                          pass    pass    -       
#           - Compare table checksum                                pass    
# TABLE     nonix_2_nix_2                           pass    pass    -       
#           - Compare table checksum                                pass    
# TABLE     nonix_2_nix_2_pk                        pass    pass    -       
#           - Compare table checksum                                pass    
# TABLE     nonix_`2_nix_`2                         pass    pass    -       
#           - Compare table checksum                                pass    

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases compare_db_pkeys_db1 on server1 and compare_db_pkeys_db1 on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    pass    -       
#           - Compare table checksum                                pass    

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases compare_db_pkeys_db2 on server1 and compare_db_pkeys_db2 on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    pass    -       
#           - Compare table checksum                                pass    

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases inventory on server1 and inventory on server2
#
ERROR: The list of objects differs among database inventory and inventory.

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases db_diff_test on server1 and db_diff_test on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     table-dash                              FAIL    ERROR: The object definitions do not match.

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases db.`:db on server1 and db.`:db on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# PROCEDURE `t`export_1                             FAIL    ERROR: The object definitions do not match.

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases multi_span_row on server1 and multi_span_row on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    pass    -       
#           - Compare table checksum                                pass    


# Database consistency check failed.
#
# ...done
Test case 17 - compare all databases with --exclude option and LIKE pattern
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# The database inventory2 on server1 does not exist on server2.
# Comparing databases: empty_db, compare_db_pkeys_db1, compare_db_pkeys_db2, multi_span_row
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases empty_db on server1 and empty_db on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases compare_db_pkeys_db1 on server1 and compare_db_pkeys_db1 on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    pass    -       
#           - Compare table checksum                                pass    

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases compare_db_pkeys_db2 on server1 and compare_db_pkeys_db2 on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    pass    -       
#           - Compare table checksum                                pass    

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases multi_span_row on server1 and multi_span_row on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    pass    -       
#           - Compare table checksum                                pass    


# Databases are consistent.
#
# ...done
Test case 18 - compare all databases with --exclude option and REGEXP pattern
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Comparing databases: empty_db, compare_db_pkeys_db1, compare_db_pkeys_db2, multi_span_row
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases empty_db on server1 and empty_db on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases compare_db_pkeys_db1 on server1 and compare_db_pkeys_db1 on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    pass    -       
#           - Compare table checksum                                pass    

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases compare_db_pkeys_db2 on server1 and compare_db_pkeys_db2 on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    pass    -       
#           - Compare table checksum                                pass    

# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases multi_span_row on server1 and multi_span_row on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    pass    -       
#           - Compare table checksum                                pass    


# Databases are consistent.
#
# ...done
Test case 19 - Test automatically picks up the not nullable unique index (No differences)
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases no_primary_keys on server1 and no_primary_keys on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     nonix_1_nix_2                           pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_1_simple                          pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_2_nix_2                           pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_2_nix_2_pk                        pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_`2_nix_`2                         pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Databases are consistent.
#
# ...done
Test case 20 - real not nullable unique index for a specific table using --use-indexes (No differences)
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases no_primary_keys on server1 and no_primary_keys on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     nonix_1_nix_2                           pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_1_simple                          pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_2_nix_2                           pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_2_nix_2_pk                        pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_`2_nix_`2                         pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Databases are consistent.
#
# ...done
Test case 21 - compare using--use-indexes for two tables (No differences)
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases no_primary_keys on server1 and no_primary_keys on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     nonix_1_nix_2                           pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_1_simple                          pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_2_nix_2                           pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_2_nix_2_pk                        pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_`2_nix_`2                         pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Databases are consistent.
#
# ...done
Test case 22 - using --use-indexes for same table (No differences)
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases no_primary_keys on server1 and no_primary_keys on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     nonix_1_nix_2                           pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_1_simple                          pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_2_nix_2                           pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_2_nix_2_pk                        pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass    
# TABLE     nonix_`2_nix_`2                         pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Databases are consistent.
#
# ...done
Test case 23 - using --use-indexes for same table verbose unique index over primary key (No differences)
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases no_primary_keys on server1 and no_primary_keys on server2
#
Looking for object types table, view, trigger, procedure, function, and event.
Object types found common to both databases:
     FUNCTION : 0
      TRIGGER : 0
        TABLE : 5
        EVENT : 0
    PROCEDURE : 0
         VIEW : 0
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     nonix_1_nix_2                           pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Definition for object no_primary_keys.nonix_1_nix_2:
CREATE TABLE "nonix_1_nix_2" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_nonulls" ("c2","c6"),
  UNIQUE KEY "ix_c" ("c1","c2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_nonulls" ("c4","c3"),
  KEY "ix_nulls" ("c1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Definition for object no_primary_keys.nonix_1_nix_2:
CREATE TABLE "nonix_1_nix_2" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_nonulls" ("c2","c6"),
  UNIQUE KEY "ix_c" ("c1","c2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_nonulls" ("c4","c3"),
  KEY "ix_nulls" ("c1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

#
# INFO: for table nonix_1_nix_2 the index "uk_nonulls" is used to compare.

# TABLE     nonix_1_simple                          pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Definition for object no_primary_keys.nonix_1_simple:
CREATE TABLE "nonix_1_simple" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_nonullclmns" ("c6"),
  KEY "ix_nonull" ("c4")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Definition for object no_primary_keys.nonix_1_simple:
CREATE TABLE "nonix_1_simple" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_nonullclmns" ("c6"),
  KEY "ix_nonull" ("c4")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

#
# INFO: for table nonix_1_simple the index uk_nonullclmns is used to compare.

# TABLE     nonix_2_nix_2                           pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Definition for object no_primary_keys.nonix_2_nix_2:
CREATE TABLE "nonix_2_nix_2" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_nonulls" ("c3","c4"),
  UNIQUE KEY "uk2_nonulls" ("c2","c6"),
  UNIQUE KEY "ix_c" ("c1","c2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_nonulls" ("c3","c4"),
  KEY "ix_nonulls_2" ("c6","c2"),
  KEY "ix_nulls" ("c1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Definition for object no_primary_keys.nonix_2_nix_2:
CREATE TABLE "nonix_2_nix_2" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_nonulls" ("c3","c4"),
  UNIQUE KEY "uk2_nonulls" ("c2","c6"),
  UNIQUE KEY "ix_c" ("c1","c2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_nonulls" ("c3","c4"),
  KEY "ix_nonulls_2" ("c6","c2"),
  KEY "ix_nulls" ("c1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

#
# INFO: for table nonix_2_nix_2 the index "uk2_nonulls" is used to compare.

# TABLE     nonix_2_nix_2_pk                        pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Definition for object no_primary_keys.nonix_2_nix_2_pk:
CREATE TABLE "nonix_2_nix_2_pk" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  PRIMARY KEY ("c2","c6"),
  UNIQUE KEY "uk_nonulls" ("c3","c2"),
  UNIQUE KEY "uk2_nonulls" ("c4","c6"),
  UNIQUE KEY "ix_c" ("c1","c2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_nonulls" ("c4","c3"),
  KEY "ix_nulls" ("c1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Definition for object no_primary_keys.nonix_2_nix_2_pk:
CREATE TABLE "nonix_2_nix_2_pk" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  PRIMARY KEY ("c2","c6"),
  UNIQUE KEY "uk_nonulls" ("c3","c2"),
  UNIQUE KEY "uk2_nonulls" ("c4","c6"),
  UNIQUE KEY "ix_c" ("c1","c2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_nonulls" ("c4","c3"),
  KEY "ix_nulls" ("c1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

#
# INFO: for table nonix_2_nix_2_pk the index "uk2_nonulls" is used to compare.

# TABLE     nonix_`2_nix_`2                         pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Definition for object no_primary_keys.nonix_`2_nix_`2:
CREATE TABLE "nonix_`2_nix_`2" (
  "c`1" int(11) DEFAULT NULL,
  "c`2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_no`nulls" ("c`2","c6"),
  UNIQUE KEY "ix`_c" ("c`1","c`2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_no`nulls" ("c3","c4"),
  KEY "ix_no`nulls_`2" ("c6","c`2"),
  KEY "ix_nulls" ("c`1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Definition for object no_primary_keys.nonix_`2_nix_`2:
CREATE TABLE "nonix_`2_nix_`2" (
  "c`1" int(11) DEFAULT NULL,
  "c`2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_no`nulls" ("c`2","c6"),
  UNIQUE KEY "ix`_c" ("c`1","c`2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_no`nulls" ("c3","c4"),
  KEY "ix_no`nulls_`2" ("c6","c`2"),
  KEY "ix_nulls" ("c`1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

#
# INFO: for table nonix_`2_nix_`2 the index uk_no`nulls is used to compare.


# Databases are consistent.
#
# ...done
Test case 24 - using --use-indexes with backticks verbose (No differences)
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases no_primary_keys on server1 and no_primary_keys on server2
#
Looking for object types table, view, trigger, procedure, function, and event.
Object types found common to both databases:
     FUNCTION : 0
      TRIGGER : 0
        TABLE : 5
        EVENT : 0
    PROCEDURE : 0
         VIEW : 0
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     nonix_1_nix_2                           pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Definition for object no_primary_keys.nonix_1_nix_2:
CREATE TABLE "nonix_1_nix_2" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_nonulls" ("c2","c6"),
  UNIQUE KEY "ix_c" ("c1","c2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_nonulls" ("c4","c3"),
  KEY "ix_nulls" ("c1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Definition for object no_primary_keys.nonix_1_nix_2:
CREATE TABLE "nonix_1_nix_2" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_nonulls" ("c2","c6"),
  UNIQUE KEY "ix_c" ("c1","c2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_nonulls" ("c4","c3"),
  KEY "ix_nulls" ("c1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

#
# INFO: for table nonix_1_nix_2 the index uk_nonulls is used to compare.

# TABLE     nonix_1_simple                          pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Definition for object no_primary_keys.nonix_1_simple:
CREATE TABLE "nonix_1_simple" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_nonullclmns" ("c6"),
  KEY "ix_nonull" ("c4")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Definition for object no_primary_keys.nonix_1_simple:
CREATE TABLE "nonix_1_simple" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_nonullclmns" ("c6"),
  KEY "ix_nonull" ("c4")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

#
# INFO: for table nonix_1_simple the index uk_nonullclmns is used to compare.

# TABLE     nonix_2_nix_2                           pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Definition for object no_primary_keys.nonix_2_nix_2:
CREATE TABLE "nonix_2_nix_2" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_nonulls" ("c3","c4"),
  UNIQUE KEY "uk2_nonulls" ("c2","c6"),
  UNIQUE KEY "ix_c" ("c1","c2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_nonulls" ("c3","c4"),
  KEY "ix_nonulls_2" ("c6","c2"),
  KEY "ix_nulls" ("c1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Definition for object no_primary_keys.nonix_2_nix_2:
CREATE TABLE "nonix_2_nix_2" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_nonulls" ("c3","c4"),
  UNIQUE KEY "uk2_nonulls" ("c2","c6"),
  UNIQUE KEY "ix_c" ("c1","c2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_nonulls" ("c3","c4"),
  KEY "ix_nonulls_2" ("c6","c2"),
  KEY "ix_nulls" ("c1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

#
# INFO: for table nonix_2_nix_2 the index uk_nonulls is used to compare.

# TABLE     nonix_2_nix_2_pk                        pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Definition for object no_primary_keys.nonix_2_nix_2_pk:
CREATE TABLE "nonix_2_nix_2_pk" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  PRIMARY KEY ("c2","c6"),
  UNIQUE KEY "uk_nonulls" ("c3","c2"),
  UNIQUE KEY "uk2_nonulls" ("c4","c6"),
  UNIQUE KEY "ix_c" ("c1","c2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_nonulls" ("c4","c3"),
  KEY "ix_nulls" ("c1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Definition for object no_primary_keys.nonix_2_nix_2_pk:
CREATE TABLE "nonix_2_nix_2_pk" (
  "c1" int(11) DEFAULT NULL,
  "c2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  PRIMARY KEY ("c2","c6"),
  UNIQUE KEY "uk_nonulls" ("c3","c2"),
  UNIQUE KEY "uk2_nonulls" ("c4","c6"),
  UNIQUE KEY "ix_c" ("c1","c2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_nonulls" ("c4","c3"),
  KEY "ix_nulls" ("c1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

#
# INFO: for table nonix_2_nix_2_pk the index PRIMARY is used to compare.

# TABLE     nonix_`2_nix_`2                         pass    pass    -       
#           - Compare table checksum                                SKIP    
#           - Find row differences                                  pass   

# Definition for object no_primary_keys.nonix_`2_nix_`2:
CREATE TABLE "nonix_`2_nix_`2" (
  "c`1" int(11) DEFAULT NULL,
  "c`2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_no`nulls" ("c`2","c6"),
  UNIQUE KEY "ix`_c" ("c`1","c`2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_no`nulls" ("c3","c4"),
  KEY "ix_no`nulls_`2" ("c6","c`2"),
  KEY "ix_nulls" ("c`1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Definition for object no_primary_keys.nonix_`2_nix_`2:
CREATE TABLE "nonix_`2_nix_`2" (
  "c`1" int(11) DEFAULT NULL,
  "c`2" int(11) NOT NULL,
  "c3" int(11) NOT NULL,
  "c4" int(11) NOT NULL,
  "c5" int(11) DEFAULT NULL,
  "c6" int(11) NOT NULL,
  UNIQUE KEY "uk_no`nulls" ("c`2","c6"),
  UNIQUE KEY "ix`_c" ("c`1","c`2"),
  UNIQUE KEY "ix_c2" ("c5","c6"),
  KEY "ix_no`nulls" ("c3","c4"),
  KEY "ix_no`nulls_`2" ("c6","c`2"),
  KEY "ix_nulls" ("c`1","c5"),
  KEY "ix_nynulss" ("c6","c5"),
  KEY "ix_ynnull" ("c5","c6")
) ENGINE=InnoDB DEFAULT CHARSET=latin1

#
# INFO: for table nonix_`2_nix_`2 the index "uk_no`nulls" is used to compare.


# Databases are consistent.
#
# ...done
Test case 25 - using --use-indexes with backticks verbose (Differences) 
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases no_primary_keys on server1 and no_primary_keys on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     nonix_1_nix_2                           pass    pass    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#

# Rows in "no_primary_keys"."nonix_1_nix_2" not in "no_primary_keys"."nonix_1_nix_2"
+-----+-----+------+-------+--------+---------+
| c1  | c2  | c3   | c4    | c5     | c6      |
+-----+-----+------+-------+--------+---------+
| 13  | 43  | 303  | 3003  | 30013  | 300013  |
| 11  | 21  | 101  | 1001  | 10011  | 100011  |
| 14  | 54  | 404  | 4004  | 40014  | 400014  |
| 12  | 32  | 202  | 2002  | 20012  | 200012  |
+-----+-----+------+-------+--------+---------+

# Rows in "no_primary_keys"."nonix_1_nix_2" not in "no_primary_keys"."nonix_1_nix_2"
+-----+-----+------+-------+--------+---------+
| c1  | c2  | c3   | c4    | c5     | c6      |
+-----+-----+------+-------+--------+---------+
| 3   | 33  | 303  | 3003  | 30003  | 300003  |
| 4   | 44  | 404  | 4004  | 40004  | 400004  |
| 2   | 22  | 202  | 2002  | 20002  | 200002  |
| 1   | 11  | 101  | 1001  | 10001  | 100001  |
+-----+-----+------+-------+--------+---------+

# TABLE     nonix_1_simple                          pass    pass    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Data differences found among rows:
--- "no_primary_keys"."nonix_1_simple"
+++ "no_primary_keys"."nonix_1_simple"
@@ -1,8 +1,8 @@
 +-----+-----+------+-------+--------+---------+
 | c1  | c2  | c3   | c4    | c5     | c6      |
 +-----+-----+------+-------+--------+---------+
-| 12  | 32  | 212  | 2002  | 20012  | 200002  |
-| 11  | 21  | 111  | 1001  | 10011  | 100001  |
-| 13  | 43  | 313  | 3003  | 30013  | 300003  |
-| 14  | 54  | 414  | 4004  | 40014  | 400004  |
+| 2   | 22  | 202  | 2002  | 20002  | 200002  |
+| 1   | 11  | 101  | 1001  | 10001  | 100001  |
+| 3   | 33  | 303  | 3003  | 30003  | 300003  |
+| 4   | 44  | 404  | 4004  | 40004  | 400004  |
 +-----+-----+------+-------+--------+---------+

# TABLE     nonix_2_nix_2                           pass    pass    -       
#           - Compare table checksum                                pass    
# TABLE     nonix_2_nix_2_pk                        pass    pass    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#

# Rows in "no_primary_keys"."nonix_2_nix_2_pk" not in "no_primary_keys"."nonix_2_nix_2_pk"
+-----+-----+------+-------+--------+---------+
| c1  | c2  | c3   | c4    | c5     | c6      |
+-----+-----+------+-------+--------+---------+
| 13  | 43  | 303  | 3003  | 30013  | 300013  |
| 11  | 21  | 101  | 1001  | 10011  | 100011  |
| 14  | 54  | 404  | 4004  | 40014  | 400014  |
| 12  | 32  | 202  | 2002  | 20012  | 200012  |
+-----+-----+------+-------+--------+---------+

# Rows in "no_primary_keys"."nonix_2_nix_2_pk" not in "no_primary_keys"."nonix_2_nix_2_pk"
+-----+-----+------+-------+--------+---------+
| c1  | c2  | c3   | c4    | c5     | c6      |
+-----+-----+------+-------+--------+---------+
| 3   | 33  | 303  | 3003  | 30003  | 300003  |
| 4   | 44  | 404  | 4004  | 40004  | 400004  |
| 2   | 22  | 202  | 2002  | 20002  | 200002  |
| 1   | 11  | 101  | 1001  | 10001  | 100001  |
+-----+-----+------+-------+--------+---------+

# TABLE     nonix_`2_nix_`2                         pass    pass    -       
#           - Compare table checksum                                pass   

# Database consistency check failed.
#
# ...done
Test case 26 - compare two equal databases with different names (including VIEWS)
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases inventory on server1 and inventory_clone on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     supplier                                pass    pass    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  pass    
# TABLE     supplies                                pass    pass    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  pass    
# VIEW      cleaning                                pass    -       -       
# VIEW      finishing_up                            pass    -       -       
# VIEW      tools                                   pass    -       -      

# Databases are consistent.
#
# ...done
Test case 27 - data with multiple lines per span (no differences).
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases multi_span_row on server1 and multi_span_row on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    pass    -       
#           - Compare table checksum                                pass   

# Databases are consistent.
#
# ...done
Test case 28 - data with multiple lines per span (with changed rows).
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases multi_span_row on server1 and multi_span_row on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    pass    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Data differences found among rows:
--- "multi_span_row"."t"
+++ "multi_span_row"."t"
@@ -1,7 +1,7 @@
 +----------+-------+
 | id       | data  |
 +----------+-------+
-| 1908449  | 1     |
-| 94092    | 1     |
-| 171607   | 1     |
+| 1908449  | 2     |
+| 94092    | 2     |
+| 171607   | 2     |
 +----------+-------+


# Database consistency check failed.
#
# ...done
Test case 29 - data with multiple lines per span (with missing row and CSV format).
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases multi_span_row on server1 and multi_span_row on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    FAIL    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Row counts are not the same among "multi_span_row"."t" and "multi_span_row"."t".
#
# Data differences found among rows:
--- "multi_span_row"."t"
+++ "multi_span_row"."t"
@@ -1,4 +1,3 @@
 id,data
-'94092','1'
-'171607','1'
-'1908449','1'
+'94092','2'
+'171607','2'


# Database consistency check failed.
#
# ...done
Test case 30 - table with primary keys and different data and SQL format.
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases compare_db_pkeys_db1 on server1 and compare_db_pkeys_db2 on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    pass    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Transformation for --changes-for=server1:
#

# Data differences found among rows:
UPDATE "compare_db_pkeys_db1"."t" SET "c" = '4' WHERE "a" = '1' AND "b" = '2';



# Database consistency check failed.
#
# ...done
Test case 31 - table with primary keys and missing data and SQL format and --show-reverse.
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases compare_db_pkeys_db1 on server1 and compare_db_pkeys_db2 on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t                                       pass    FAIL    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Row counts are not the same among "compare_db_pkeys_db1"."t" and "compare_db_pkeys_db2"."t".
#
# Transformation for --changes-for=server1:
#

INSERT INTO "compare_db_pkeys_db1"."t" ("a", "b", "c") VALUES('1', '2', '4');

#
# Transformation for reverse changes (--changes-for=server2):
#
# DELETE FROM "compare_db_pkeys_db2"."t" WHERE "a" = '1' AND "b" = '2';
#



# Database consistency check failed.
#
# ...done
Test case 32 - data with quotes and sql format
# WARNING: Using a password on the command line interface can be insecure.
# server1 on localhost: ... connected.
# server2 on localhost: ... connected.
# Checking databases compare_db_quotes_1 on server1 and compare_db_quotes_2 on server2
#
#                                                   Defn    Row     Data   
# Type      Object Name                             Diff    Count   Check  
# ------------------------------------------------------------------------- 
# TABLE     t1                                      pass    pass    -       
#           - Compare table checksum                                FAIL    
#           - Find row differences                                  FAIL    
#
# Transformation for --changes-for=server1:
#

# Data differences found among rows:
UPDATE "compare_db_quotes_1"."t1" SET "name" = 'single quote bug' WHERE "id" = '1';

#
# Transformation for reverse changes (--changes-for=server2):
#
# # Data differences found among rows:
# UPDATE "compare_db_quotes_2"."t1" SET "name" = 'single quote\' bug' WHERE "id" = '1';
#



# Database consistency check failed.
#
# ...done
